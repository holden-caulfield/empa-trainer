{"version":3,"sources":["lib/progressionSets.js","lib/music.js","lib/player.js","Redux/Intervals/index.js","Redux/Progressions/index.js","Redux/Panels/index.js","Redux/index.js","registerServiceWorker.js","Components/Panels.js","Pages/About/index.js","lib/colors.js","Components/Button.js","Components/Picker.js","Components/CheckableOption.js","Components/NotePicker.js","Components/IntervalRangePicker.js","Pages/Intervals/Config.js","Components/IntervalPicker.js","Components/Notes.js","lib/images.js","Components/Interval.js","Pages/Intervals/Test.js","Theme/index.js","Theme/colors.js","Pages/Intervals/Progress.js","Pages/Intervals/index.js","Components/RangePicker.js","Components/ConfigSection.js","Pages/Progressions/Config.js","Pages/Progressions/Test.js","Pages/index.js","Pages/Progressions/index.js","Layouts/MainLayout/NavMenu.js","Layouts/MainLayout/NavBar.js","Layouts/MainLayout/index.js","App.js","Config/Reactotron.js","index.js"],"names":["Maj","Tri","Min","DS","IM","Dis","ST","randomPick","list","shuffle","randomNote","range","chromatic","Math","random","intervalSets","liftInterval","intervalDesc","interval","ivlQuality","ivl","abs","num","q","ivlDirection","dir","expandIntervalSets","sets","ascDes","chain","set","map","intervalOptions","Object","keys","randomInterval","rootNote","excluding","intervalFrom","without","note","name","noteFrom","noteTo","transpose","notesMap","A","B","C","D","E","F","G","toItalian","noteName","noteObj","letter","acc","randomProgression","types","includedSets","includedTypes","randomRootNote","chords","type","progressionSets","progressionOptions","chordNotes","chordName","fromNote","chordObj","chord","realTonic","pc","refNote","octave","find","distance","closestNote","tonic","intervals","extraRomanMap","SustV","applyExtraRomans","roman","includes","expandChordProgression","progression","split","fromRomanNumerals","applyProgression","reduce","progressionChords","previousTonic","isEmpty","head","last","ac","window","AudioContext","webkitAudioContext","CONFIG_PRESETS","PRACTICA","intervalRange","repeatIntervals","drillLength","PABLO","INITIAL_STATE","config","answer","ready","historic","createActions","setConfig","setPreset","start","replay","stop","Types","Creators","reducer","createReducer","START","state","drillIsOver","allowsNoRepeat","path","ANSWER","append","READY","STOP","SET_CONFIG","newConfig","SET_PRESET","preset","length","expandSelectedIntervals","progressStats","answerOk","stats","total","correct","filter","byGroup","groupBy","setOf","accum","value","equals","omit","showAnswer","setProgConfig","progStart","progReplay","showProgAnswer","progReady","progStop","SET_PROG_CONFIG","PROG_START","PROG_STOP","SHOW_PROG_ANSWER","PROG_READY","left","right","openLeft","openRight","clear","OPEN_LEFT","OPEN_RIGHT","CLEAR","rootReducer","combineReducers","progressions","panels","rootEpic","combineEpics","action$","state$","ofType","REPLAY","do","currentState","Soundfont","instrument","then","piano","play","currentTime","duration","mapTo","PROG_REPLAY","forEach","i","when","epicMiddleware","createEpicMiddleware","middlewares","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","error","styled","div","TextContainer","About","render","href","Component","getColor","props","color","theme","colors","themeColor","colorProp","defaultColor","propName","colorIfTrue","colorIfFalse","BaseButton","button","attrs","disabled","Button","extend","LightButton","SecondaryButton","textColor","withCheckable","css","selected","chroma","luminance","soft","predicate","themeColorIf","CheckableButton","PickerButton","ButtonBar","ButtonPanel","IntervalPicker","this","onSelect","options","isSelected","option","key","onClick","CheckableOption","notes","NotesSelect","select","NotePicker","changeNote","change","oct","onChange","e","target","index","defaultProps","onSelectRange","intervalSet","clickHandler","sortBy","identity","SectionContainer","SectionControls","SectionButton","ModeSection","ModeLabel","span","ConfigSection","title","children","IntervalsConfig","startTest","history","push","url","presetOption","toLowerCase","Si","No","mapDispatchToProps","IntervalsActions","connect","IntervalPickerContainer","IntervalsContainer","DirectionContainer","IntervalPickerButton","directions","icon","quality","setQuality","setState","setDirection","stateComplete","none","isNil","values","colorFor","fn","onIntervalSelected","possibleIntervals","direction","staveNoteFor","noteProps","StaveNote","VF","clef","addModifier","Annotation","addAccidental","Accidental","Notes","drawNote","context","renderer","getContext","group","svg","removeChild","openGroup","Formatter","FormatAndDraw","stave","closeGroup","ref","Renderer","refs","container","Backends","SVG","resize","setFont","setBackgroundFillStyle","Stave","addClef","setContext","draw","imagePath","process","IntervalContainer","ReplayButton","Interval","ControlsContainer","IntervalsTest","replace","nextInterval","sendAnswer","Redirect","to","dark","light","accent","fade","wrong","average","ProgressContainer","ProgressSection","section","OverallProgressSection","StatsLabel","p","PercentLabel","colorScale","scale","T","StyledLabel","toFixed","IntervalsProgress","percentage","setsWithStats","setName","hasOwnProperty","Intervals","Switch","Route","component","Test","Config","Info","RangePicker","ProgressionsActions","Answer","h1","nextProgression","requestAnswer","route","infoSection","IntervalsInfo","infoIcon","NavContainer","nav","NavHeader","header","Logo","img","NavItem","NavLink","Menu","src","alt","Pages","page","activeClassName","NavBarContainer","TitleContainer","Filler","MenuIcon","Icon","LeftIcon","RightIcon","NavBar","onLeftIcon","onRightIcon","rightIcon","className","MainLayout","id","role","mainContent","withRouter","PanelsActions","renderPage","App","basename","exact","Reactotron","configure","use","reactotronRedux","store","createStore","compose","applyMiddleware","createEnhancer","run","ReactDOM","document","getElementById","URL","origin","addEventListener","fetch","response","status","headers","get","indexOf","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.05b401c6.chunk.js","sourcesContent":["export default {\n  Maj: {\n    Tri: [\n      'I, IV, V, I',\n      'I, IV, V7, I',\n      'IV, V, I, V',\n      'I, V, IV, V',\n      'I, IIm, V7, I',\n      'I, VIm, II, V7',\n      'VIm, II, V7, I',\n      'I, IV, V, IV',\n      'I, V, I, IV',\n      'I, V7, I, V7',\n      'IV, V, VIm, V',\n      'IV, VIIo, IIIm, VIm',\n      'I, IV, VIm, V7',\n      'I, IV, IV, I',\n      'I, V, IVm, IV',\n      'V, IV, I, V'\n    ],\n    '7ma': [\n      'IMaj7, IVMaj7, V7, IMaj7',\n      'IMaj7, V7, IVMaj7, V7',\n      'IMaj7, IIm7, V7, IMaj7',\n      'IMaj7, V7, IMaj7, IVMaj7',\n      'IMaj7, VIm7, IIm7, V7',\n      'VIm7, IIm7, V7, IMaj7',\n      'IVMaj7, VIIm7b5, IIIm7, VIm7',\n      'IMaj7, IVMaj7, VIm7, V7',\n      'IMaj7, IVMaj7, IVMaj7, IMaj7',\n      'V7, IVMaj7, IMaj7, V7'\n    ]\n  },\n  Min: {\n    Tri: [\n      'Im, IIo, V7, Im',\n      'Im, IVm, V, Im',\n      'Im, IVm, Vm, Im',\n      'Im, bVII, bVI, V',\n      'Im, bIII, bVII, Im',\n      'Im, bIII, bVI, V',\n      'Im, V, Im, V',\n      'IVm, bVII, bIII, VIb',\n      'IIo, V7, Im, V/IV'\n    ],\n    '7ma': [\n      'Im7, IIm7b5, V7, Im7',\n      'Im7, IVm7, V7, Im7',\n      'Im7, IVm7, Vm7, Im7',\n      'Im7, V7, Im7, V7',\n      'IIm7b5, V7, I7m, V/IV'\n    ]\n  },\n  DS: {\n    Tri: [\n      'I, V/IV, IV, I',\n      'II, V/V, V7, I',\n      'IIIm, V/VI, VIm, I',\n      'VIm, V/II, IIm, V7',\n      'VIIo, V/III, IIIm, I'\n    ],\n    '7ma': [\n      'IMaj7, V/IV, IVMaj7, IMaj7',\n      'IIm7, V/V, V7, IMaj7',\n      'IIIm7, V/VI, VIm7, I',\n      'VIm7, V/II, IIm7, V7',\n      'VIIm7b5, V/III, IIIm7, IMaj7'\n    ]\n  },\n  IM: {\n    Tri: [\n      'I, IIo, V7, I',\n      'I, IV, IVm, I',\n      'I, bVI, I, bVI',\n      'I, bVII, IV, I',\n      'I, bIII, IV, I'\n    ],\n    '7ma': ['IMaj7, IIm7b5, V7, IMaj7', 'IMaj7, IVMaj7, IVm7, IMaj7']\n  },\n  Dis: {\n    Tri: [\n      'I, #Io7, IIm, I',\n      'IIm, #IIo7, IIIm, I',\n      'IIIm, bIIIo7, IIm, I',\n      'I, bIIIo7, IIm, I',\n      'V7, #Vo7, VIm, I'\n    ],\n    '7ma': [\n      'IMaj7, #Io7, IIm7, IMaj7',\n      'IIm7, #IIo7, IIIm7, IMaj7',\n      'IIIm7, bIIIo7, IIm7, IMaj7',\n      'IMaj7, bIIIo7, IIm7, IMaj7',\n      'V7, #Vo7, VIm7, IMaj7'\n    ]\n  },\n  ST: {\n    Tri: [\n      'I, IIm, SustV, I',\n      'I, SustV/IV, IV, I',\n      'II, SustV/V, V7, I',\n      'IIIm, SustV/VI, VIm, I',\n      'VIm, SustV/II, IIm, V7',\n      'VIIo, SustV/III, IIIm, I'\n    ],\n    '7ma': [\n      'IMaj7, IIm7, SustV, IMaj7',\n      'IMaj7, SustV/IV, IVMaj7, IMaj7',\n      'IIm7, SustV/V, V7, IMaj7',\n      'IIIm7, SustV/VI, VIm7, I',\n      'VIm7, SustV/II, IIm7, V7',\n      'VIIm7b5, SustV/III, IIIm7, IMaj7'\n    ]\n  }\n}\n","import { chromatic } from '@tonaljs/range'\nimport { shuffle } from '@tonaljs/array'\nimport { note, transpose, interval, distance } from '@tonaljs/tonal'\nimport { chord } from '@tonaljs/chord'\nimport { fromRomanNumerals } from '@tonaljs/progression'\nimport { chain, without, head, last, isEmpty } from 'ramda'\nimport progressionSets from './progressionSets'\n\nconst randomPick = list => shuffle(list)[0]\n\nexport const randomNote = (range = ['C4', 'B5']) =>\n  randomPick(chromatic(range, Math.random() > 0.5))\n\nconst intervalSets = {\n  '2da': ['2m', '2M'],\n  '3ra': ['3m', '3M'],\n  '4/5': ['4P', '4A', '5P'],\n  '6ta': ['6m', '6M'],\n  '7ma': ['7m', '7M'],\n  '8va': ['8P']\n}\n\nconst liftInterval = intervalDesc =>\n  typeof intervalDesc === 'string' ? interval(intervalDesc) : intervalDesc\n\nexport const ivlQuality = interval => {\n  const ivl = liftInterval(interval)\n  return `${Math.abs(ivl.num)}${ivl.q}`\n}\n\nexport const ivlDirection = interval => liftInterval(interval).dir\n\nexport const expandIntervalSets = (sets, ascDes = true) =>\n  chain(\n    set => [\n      ...intervalSets[set],\n      ...(ascDes ? intervalSets[set].map(interval => `-${interval}`) : [])\n    ],\n    sets\n  )\n\nexport const intervalOptions = Object.keys(intervalSets)\n\nexport const setOf = interval =>\n  intervalOptions.find(name =>\n    intervalSets[name].includes(ivlQuality(interval))\n  )\n\nexport const randomInterval = ({\n  sets = intervalOptions,\n  rootNote = false,\n  excluding = []\n}) =>\n  intervalFrom(\n    rootNote ? rootNote : randomNote(),\n    randomPick(without(excluding, expandIntervalSets(sets)))\n  )\n\nexport const intervalFrom = (note, name) => ({\n  noteFrom: note,\n  name: name,\n  noteTo: transpose(note, name)\n})\n\nconst notesMap = {\n  A: 'La',\n  B: 'Si',\n  C: 'Do',\n  D: 'Re',\n  E: 'Mi',\n  F: 'Fa',\n  G: 'Sol'\n}\n\nexport const toItalian = noteName => {\n  const noteObj = note(noteName)\n  return `${notesMap[noteObj.letter]}${noteObj.acc}`\n}\n\nexport const expandProgressionSets = (sets, types) =>\n  chain(set => chain(type => progressionSets[set][type], types), sets)\n\nexport const randomProgression = ({\n  includedSets,\n  includedTypes,\n  randomRootNote,\n  rootNote = false\n}) => ({\n  rootNote: randomRootNote ? randomNote(['A3', 'G4']) : rootNote,\n  chords: randomPick(expandProgressionSets(includedSets, includedTypes))\n})\n\nexport const progressionOptions = Object.keys(progressionSets)\n\nconst closestNote = (pc, refNote, rootNote) => {\n  if (pc === note(rootNote).pc) return rootNote\n  return [3, 4, 5]\n    .map(octave => `${pc}${octave}`)\n    .find(note => interval(distance(note, refNote)).num < 5)\n}\n\nexport const chordNotes = (chordName, fromNote, rootNote) => {\n  const chordObj = chord(chordName)\n  const realTonic = closestNote(chordObj.tonic, fromNote, rootNote)\n  return chordObj.intervals.map(interval => transpose(realTonic, interval))\n}\n\nconst extraRomanMap = {\n  'V/IV': 'I7',\n  'V/V': 'II7',\n  'V/VI': 'III7',\n  'V/II': 'VI7',\n  'V/III': 'VII7',\n  SustV: 'IIb7',\n  'SustV/IV': 'Vb7',\n  'SustV/V': 'VIb7',\n  'SustV/VI': 'VIb7',\n  'SustV/II': 'IIIb7',\n  'SustV/III': 'VI7'\n}\n\nconst applyExtraRomans = roman =>\n  Object.keys(extraRomanMap).includes(roman) ? extraRomanMap[roman] : roman\n\nexport const applyProgression = (rootNote, progression) => {\n  const chords = progression.split(', ').map(applyExtraRomans)\n  return fromRomanNumerals(note(rootNote).pc, chords)\n}\n\nexport const expandChordProgression = ({ rootNote, chords }) => {\n  return applyProgression(rootNote, chords).reduce(\n    (progressionChords, chord) => {\n      const previousTonic = isEmpty(progressionChords)\n        ? rootNote\n        : head(last(progressionChords))\n      return [...progressionChords, chordNotes(chord, previousTonic, rootNote)]\n    },\n    []\n  )\n}\n","import Soundfont from 'soundfont-player'\n\nconst AudioContext =\n  window.AudioContext || // Default\n  window.webkitAudioContext || // Safari and old versions of Chrome\n  false\n\nconst ac = new AudioContext()\n\nexport const playInterval = interval => {\n  Soundfont.instrument(ac, 'acoustic_grand_piano').then(piano => {\n    piano.play(interval.noteFrom, ac.currentTime, { duration: 1 })\n    piano.play(interval.noteTo, ac.currentTime + 1, { duration: 1 })\n  })\n}\n\nexport const playChord = (instrument, when, notes) => {\n  notes.forEach(note => {\n    instrument.play(note, when, { duration: 2 })\n  })\n}\n\nexport const playProgression = chords => {\n  Soundfont.instrument(ac, 'acoustic_grand_piano').then(piano => {\n    chords.forEach((chord, i) => {\n      playChord(piano, ac.currentTime + i * 3, chord)\n    })\n  })\n}\n","import { createReducer, createActions } from 'reduxsauce'\nimport {\n  randomInterval,\n  randomNote,\n  intervalOptions,\n  expandIntervalSets,\n  setOf\n} from 'lib/music'\nimport { playInterval } from 'lib/player'\nimport { append, filter, groupBy, map, path, omit, equals } from 'ramda'\nimport 'rxjs/add/operator/do'\nimport 'rxjs/add/operator/mapTo'\n\nconst CONFIG_PRESETS = {\n  PRACTICA: () => ({\n    intervalRange: intervalOptions,\n    repeatIntervals: true,\n    rootNote: 'C4',\n    randomRootNote: true,\n    drillLength: false\n  }),\n  PABLO: () => ({\n    intervalRange: intervalOptions,\n    repeatIntervals: false,\n    rootNote: randomNote(['C4', 'B4']),\n    randomRootNote: false,\n    drillLength: 10\n  })\n}\n\n/* ------------- Initial State ------------- */\n\nconst INITIAL_STATE = {\n  config: {\n    intervalRange: intervalOptions,\n    repeatIntervals: true,\n    rootNote: 'C4',\n    randomRootNote: true,\n    drillLength: false\n  },\n  interval: null,\n  answer: null,\n  ready: false,\n  historic: []\n}\n\n/* ------------- Types and Action Creators ------------- */\n\nconst { Types, Creators } = createActions({\n  setConfig: ['newConfig'],\n  setPreset: ['preset'],\n  start: null,\n  ready: null,\n  replay: null,\n  answer: ['answer'],\n  stop: null\n})\n\nexport default Creators\n\n/* ------------- Reducers ------------- */\nconst setConfig = (state, { newConfig }) => ({\n  ...state,\n  config: { ...state.config, ...newConfig }\n})\n\nconst start = state => {\n  if (drillIsOver(state)) return state\n  const {\n    randomRootNote,\n    intervalRange,\n    rootNote,\n    repeatIntervals\n  } = state.config\n  return {\n    ...state,\n    ready: false,\n    answer: null,\n    interval: randomInterval({\n      sets: intervalRange,\n      rootNote: randomRootNote ? false : rootNote,\n      excluding:\n        repeatIntervals || !allowsNoRepeat(state)\n          ? []\n          : map(path(['interval', 'name']), state.historic)\n    })\n  }\n}\n\nconst answer = (state, { answer }) => ({\n  ...state,\n  answer,\n  historic: append({ interval: state.interval, answer: answer }, state.historic)\n})\n\nconst ready = state => ({ ...state, ready: true })\n\nconst stop = state => ({\n  ...INITIAL_STATE,\n  config: state.config\n})\n\nconst setPreset = (state, { preset }) => ({\n  ...state,\n  config: CONFIG_PRESETS[preset]()\n})\n\n/* ------------- Hookup Reducers To Types ------------- */\n\nexport const reducer = createReducer(INITIAL_STATE, {\n  [Types.START]: start,\n  [Types.ANSWER]: answer,\n  [Types.READY]: ready,\n  [Types.STOP]: stop,\n  [Types.SET_CONFIG]: setConfig,\n  [Types.SET_PRESET]: setPreset\n})\n\n/* ------------- Epics ------------- */\n\nexport const epic = (action$, state$) =>\n  action$\n    .ofType(Types.START, Types.REPLAY)\n    .do(() => {\n      const currentState = state$.value.intervals\n      !drillIsOver(currentState) && playInterval(currentState.interval)\n    })\n    .mapTo(Creators.ready())\n\n/* ------------- Selectors ------------- */\nexport const drillIsOver = ({ historic, config }) =>\n  config.drillLength && historic.length >= config.drillLength\n\nexport const allowsNoRepeat = state => {\n  const { intervalRange, drillLength } = state.config\n  if (drillLength === false) return false\n  return drillLength <= expandIntervalSets(intervalRange).length\n}\n\nexport const expandSelectedIntervals = state =>\n  expandIntervalSets(state.config.intervalRange, false)\n\nexport const progressStats = state => {\n  const { historic } = state.intervals\n  const answerOk = ({ interval, answer }) => answer === interval.name\n  const intervalSet = ({ interval }) => setOf(interval.name)\n  const stats = intervals => ({\n    total: intervals.length,\n    correct: filter(answerOk, intervals).length\n  })\n  return {\n    ...stats(historic),\n    byGroup: map(stats, groupBy(intervalSet, historic))\n  }\n}\n\nexport const preset = state => {\n  const checkPreset = (accum, value) =>\n    equals(\n      omit(['rootNote'], state.config),\n      omit(['rootNote'], CONFIG_PRESETS[value]())\n    )\n      ? value\n      : accum\n  return Object.keys(CONFIG_PRESETS).reduce(checkPreset, null)\n}\n","import { createReducer, createActions } from 'reduxsauce'\nimport {\n  progressionOptions,\n  randomProgression,\n  expandChordProgression\n} from 'lib/music'\nimport { playProgression } from 'lib/player'\n\n/* ------------- Initial State ------------- */\n\nconst INITIAL_STATE = {\n  config: {\n    includedSets: progressionOptions,\n    includedTypes: ['Tri', '7ma'],\n    rootNote: 'C4',\n    randomRootNote: true\n  },\n  progression: null,\n  showAnswer: false\n}\n\n/* ------------- Types and Action Creators ------------- */\n\nconst { Types, Creators } = createActions({\n  setProgConfig: ['newConfig'],\n  progStart: null,\n  progReplay: null,\n  showProgAnswer: null,\n  progReady: null,\n  progStop: null\n})\n\nexport default Creators\n\n/* ------------- Reducers ------------- */\nconst setConfig = (state, { newConfig }) => ({\n  ...state,\n  config: { ...state.config, ...newConfig }\n})\n\nconst start = state => ({\n  ...state,\n  progression: randomProgression(state.config),\n  showAnswer: false\n})\n\nconst stop = state => ({\n  ...state,\n  progression: null,\n  showAnswer: false\n})\n\nconst showAnswer = state => ({ ...state, showAnswer: true })\n\nconst ready = state => state\n\n/* ------------- Hookup Reducers To Types ------------- */\n\nexport const reducer = createReducer(INITIAL_STATE, {\n  [Types.SET_PROG_CONFIG]: setConfig,\n  [Types.PROG_START]: start,\n  [Types.PROG_STOP]: stop,\n  [Types.SHOW_PROG_ANSWER]: showAnswer,\n  [Types.PROG_READY]: ready\n})\n\n/* ------------- Epics ------------- */\n\nexport const epic = (action$, state$) =>\n  action$\n    .ofType(Types.PROG_START, Types.PROG_REPLAY)\n    .do(() => {\n      const currentState = state$.value.progressions\n      playProgression(expandChordProgression(currentState.progression))\n    })\n    .mapTo(Creators.progReady())\n","import { createReducer, createActions } from 'reduxsauce'\n\n/* ------------- Initial State ------------- */\n\nconst INITIAL_STATE = {\n  left: '',\n  right: ''\n}\n\n/* ------------- Types and Action Creators ------------- */\n\nconst { Types, Creators } = createActions({\n  openLeft: null,\n  openRight: null,\n  clear: null\n})\n\nexport default Creators\n\n/* ------------- Reducers ------------- */\n\nconst clear = state => INITIAL_STATE\n\nconst openLeft = state => ({\n  right: '',\n  left: 'open'\n})\n\nconst openRight = state => ({\n  left: '',\n  right: 'open'\n})\n\n/* ------------- Hookup Reducers To Types ------------- */\n\nexport const reducer = createReducer(INITIAL_STATE, {\n  [Types.OPEN_LEFT]: openLeft,\n  [Types.OPEN_RIGHT]: openRight,\n  [Types.CLEAR]: clear\n})\n","import { combineReducers, applyMiddleware, createStore, compose } from 'redux'\nimport { combineEpics, createEpicMiddleware } from 'redux-observable'\nimport Reactotron from 'reactotron-react-js'\n\nimport { reducer as intervals, epic as intervalsEpic } from './Intervals'\nimport {\n  reducer as progressions,\n  epic as progressionsEpic\n} from './Progressions'\nimport { reducer as panels } from './Panels'\n\nconst rootReducer = combineReducers({\n  intervals,\n  progressions,\n  panels\n})\n\nconst rootEpic = combineEpics(intervalsEpic, progressionsEpic)\nconst epicMiddleware = createEpicMiddleware()\n\nconst middlewares = [epicMiddleware]\n\nexport default () => {\n  const store = createStore(\n    rootReducer,\n    compose(applyMiddleware(...middlewares), Reactotron.createEnhancer())\n  )\n  epicMiddleware.run(rootEpic)\n  return store\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.')\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import styled from 'styled-components'\n\nexport default styled.div`\n  max-height: 100%;\n  min-height: calc(100vh - 80px);\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n`\n","import React, { Component } from 'react'\nimport MainPanel from 'Components/Panels'\nimport styled from 'styled-components'\n\nconst TextContainer = styled.div`\n  width: 90%;\n  flex-grow: 1;\n`\n\nexport default class About extends Component {\n  render = () => (\n    <MainPanel>\n      <TextContainer>\n        <p>\n          Mi nombre es Juan Pablo, soy estudiante de la EMPA y programador de\n          sistemas.\n        </p>\n        <p>\n          Armé este sitio para ayudarme a prepararme para la materia Lenguage\n          Musical, y lo publiqué en caso de que le fuera útil a otros\n          estudiantes o interesados en teoría musical y audiopercepción.\n        </p>\n        <p>\n          Si bien existen muchos sitios y apps que proveen ejercicios similares\n          (y algunos mucho más avanzados) quise hacer el mío porque:\n        </p>\n        <ul>\n          <li>\n            quería ejercicios lo más parecido posibles a los que me toman en la\n            EMPA; y\n          </li>\n          <li>me resultó divertido :-) </li>\n        </ul>\n        <p>\n          Si sos programador y te interesa colaborar con el proyecto (o\n          simplemente chusmear cómo esta hecho) el código fuente está&nbsp;\n          <a href=\"https://github.com/holden-caulfield/empa-trainer\">acá</a>\n        </p>\n      </TextContainer>\n    </MainPanel>\n  )\n}\n","import chroma from 'chroma-js'\n\nconst getColor = (props, color) => props.theme.colors[color]\n\nexport const soft = color => chroma(color).luminance(0.8)\n\nexport const themeColor = (colorProp, defaultColor) => props =>\n  getColor(props, props[colorProp]) || getColor(props, defaultColor)\n\nexport const themeColorIf = (predicate, colorIfTrue, colorIfFalse) => props =>\n  getColor(props, predicate(props) ? colorIfTrue : colorIfFalse)\n\nexport const themeColorIfProp = (\n  propName,\n  colorIfTrue,\n  colorIfFalse\n) => props => themeColorIf(props => props[propName], colorIfTrue, colorIfFalse)\n","import styled, { css } from 'styled-components'\nimport { soft, themeColor, themeColorIfProp } from 'lib/colors'\nimport React from 'react'\n\nconst makeBox = ({ color }) => `0px 0px 5px ${color}`\n\nconst BaseButton = styled.button.attrs({\n  color: themeColor('color', 'accent')\n})`\n  border: 0;\n  font-family: 'Work Sans';\n  background-color: ${props => props.color};\n  color: ${themeColor('textColor', 'light')};\n  opacity: ${props => (props.disabled ? 0.3 : 1)};\n  &:hover {\n    box-shadow: ${makeBox};\n  }\n  &:disabled {\n    box-shadow: none !important;\n  }\n  &:focus {\n    outline: none;\n  }\n`\n\nconst Button = BaseButton.extend`\n  border-radius: 100px;\n  height: 60px;\n  width: auto;\n  flex-grow: 1;\n  max-width: 300px;\n  font-size: 20px;\n  font-weight: 600;\n  @media (max-width: 720px) {\n    height: 40px;\n    font-size: 16px;\n  }\n`\nexport default Button\n\nconst LightButton = Button.extend`\n  font-weight: 300;\n  border-width: 1px;\n  border-style: solid;\n  border-color: ${themeColor('textColor', 'light')};\n`\n\nexport const SecondaryButton = props => (\n  <LightButton color=\"light\" textColor=\"fade\" {...props} />\n)\n\nconst withCheckable = css`\n  background-color: ${({ selected, color }) =>\n    selected ? color : soft(color)};\n  color: ${themeColorIfProp('selected', 'light', 'disabled')};\n`\n\nexport const CheckableButton = Button.extend`\n  ${withCheckable};\n`\n\nexport const PickerButton = BaseButton.extend`\n  ${withCheckable};\n  width: 70px;\n  height: 70px;\n  border-radius: 15px;\n  font-size: 24px;\n  margin: 10px 10px 0 0;\n  font-weight: 300;\n  @media (max-width: 400px) {\n    height: 60px;\n    width: 60px;\n  }\n`\nexport const ButtonBar = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  justify-content: center;\n  align-items: flex-end;\n  margin-top: 20px;\n  flex-grow: 1;\n  button {\n    margin: 0 10px;\n  }\n  button:first-child {\n    margin-left: 0;\n  }\n  button:last-child {\n    margin-right: 0;\n  }\n`\n","import React, { Component } from 'react'\nimport { PickerButton } from 'Components/Button'\nimport styled from 'styled-components'\n\nconst ButtonPanel = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n`\n\nexport default class IntervalPicker extends Component {\n  render() {\n    const { value, onSelect, options, disabled } = this.props\n    const isSelected = option => option === value\n    const clickHandler = option => () => {\n      onSelect(option)\n    }\n\n    return (\n      <ButtonPanel>\n        {Object.keys(options).map(key => (\n          <PickerButton\n            color=\"dark\"\n            key={key}\n            disabled={disabled}\n            onClick={clickHandler(options[key])}\n            selected={isSelected(options[key])}\n          >\n            {key}\n          </PickerButton>\n        ))}\n      </ButtonPanel>\n    )\n  }\n}\n","import styled from 'styled-components'\n\nconst CheckableOption = styled.button`\n  border: 0;\n  background-color: transparent;\n  font-size: 30px;\n  padding: 0;\n  color: ${({ selected }) => (selected ? 'black' : 'lightgrey')};\n  @media (max-width: 720px) {\n    font-size: 25px;\n    height: 40px;\n  }\n  @media (max-width: 320px) {\n    font-size: 20px;\n  }\n  :hover {\n    text-shadow: 1px 1px 5px black;\n  }\n  :disabled {\n    text-shadow: none;\n    color: lightgrey;\n  }\n`\n\nexport default CheckableOption\n","import React, { Component } from 'react'\nimport styled from 'styled-components'\nimport { note } from '@tonaljs/tonal'\nimport { toItalian } from 'lib/music'\nimport CheckableOption from 'Components/CheckableOption'\n\nconst notes = ['C', 'D', 'E', 'F', 'G', 'A', 'B']\n\nconst NotesSelect = styled.select`\n  font-size: 25px;\n  width: 100px;\n  text-indent: 5px;\n  height: 50px;\n  margin-right: 10px;\n  @media (max-width: 720px) {\n    font-size: 20px;\n    width: 70px;\n    height: 40px;\n  }\n`\n\nexport default class NotePicker extends Component {\n  static defaultProps = {\n    value: 'C4',\n    disabled: false,\n    onChange: () => {}\n  }\n\n  changeNote = change => {\n    const { letter, oct, acc } = { ...note(this.props.value), ...change }\n    this.props.onChange(`${letter}${acc}${oct}`)\n  }\n\n  render = () => {\n    const { disabled, value } = this.props\n    const { acc, letter } = note(value)\n    return (\n      <div>\n        <NotesSelect\n          disabled={disabled}\n          value={letter}\n          onChange={e => this.changeNote({ letter: e.target.value })}\n        >\n          {notes.map((note, index) => (\n            <option value={note} key={note}>\n              {toItalian(note)}\n            </option>\n          ))}\n        </NotesSelect>\n        <CheckableOption\n          disabled={disabled}\n          onClick={() => this.changeNote({ acc: acc === '#' ? '' : '#' })}\n          selected={acc === '#'}\n        >\n          &#9839;\n        </CheckableOption>\n        <CheckableOption\n          disabled={disabled}\n          onClick={() => this.changeNote({ acc: acc === 'b' ? '' : 'b' })}\n          selected={acc === 'b'}\n        >\n          &#9837;\n        </CheckableOption>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { PickerButton } from 'Components/Button'\nimport { intervalOptions } from 'lib/music'\nimport styled from 'styled-components'\nimport { without, identity, sortBy } from 'ramda'\n\nconst ButtonPanel = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  width: 100%;\n  justify-content: space-between;\n`\n\nexport default class IntervalPicker extends Component {\n  render() {\n    const { selected, onSelectRange } = this.props\n    const isSelected = intervalSet => selected.includes(intervalSet)\n    const clickHandler = intervalSet => () => {\n      onSelectRange(\n        isSelected(intervalSet)\n          ? without([intervalSet], selected)\n          : sortBy(identity, [...selected, intervalSet])\n      )\n    }\n\n    return (\n      <ButtonPanel>\n        {intervalOptions.map(intervalSet => (\n          <PickerButton\n            color=\"dark\"\n            key={intervalSet}\n            onClick={clickHandler(intervalSet)}\n            selected={isSelected(intervalSet)}\n          >\n            {intervalSet}\n          </PickerButton>\n        ))}\n      </ButtonPanel>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\n\nimport IntervalsActions, { allowsNoRepeat, preset } from 'Redux/Intervals'\nimport Button, { ButtonBar, CheckableButton } from 'Components/Button'\nimport MainPanel from 'Components/Panels'\nimport Picker from 'Components/Picker'\nimport NotePicker from 'Components/NotePicker'\nimport IntervalRangePicker from 'Components/IntervalRangePicker'\nimport CheckableOption from 'Components/CheckableOption'\n\nconst SectionContainer = styled.div`\n  width: calc(100% - 40px);\n  padding: 0 20px;\n  margin-bottom: 10px;\n  h2 {\n    font-size: 20px;\n  }\n`\n\nconst SectionControls = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`\nconst SectionButton = CheckableButton.extend`\n  margin: 0 20px;\n  max-width: 160px;\n  height: 50px;\n  font-weight: ${props => (props.selected ? 600 : 300)};\n  @media (max-width: 720px) {\n    font-size: 15px;\n    max-width: 130px;\n    height: 40px;\n  }\n`\n\nconst ModeSection = styled.div`\n  padding-top: 10px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  width: 100%;\n`\n\nconst ModeLabel = styled.span`\n  text-transform: capitalize;\n`\n\nconst ConfigSection = props => (\n  <SectionContainer>\n    <h2>{props.title}</h2>\n    <SectionControls>{props.children}</SectionControls>\n  </SectionContainer>\n)\n\nclass IntervalsConfig extends Component {\n  componentWillMount() {\n    this.props.stop()\n  }\n\n  startTest = () => {\n    const { start, history, match } = this.props\n    start()\n    history.push(`${match.url}/test`)\n  }\n\n  render = () => {\n    const {\n      intervalRange,\n      rootNote,\n      randomRootNote,\n      drillLength,\n      repeatIntervals,\n      preset,\n      allowsNoRepeat,\n      setPreset,\n      setConfig\n    } = this.props\n    return (\n      <MainPanel>\n        <ModeSection>\n          {['PABLO', 'PRACTICA'].map(presetOption => (\n            <CheckableOption\n              key={presetOption}\n              selected={preset === presetOption}\n              onClick={() => setPreset(presetOption)}\n            >\n              <ModeLabel>Modo {presetOption.toLowerCase()}</ModeLabel>\n            </CheckableOption>\n          ))}\n        </ModeSection>\n        <ConfigSection title=\"Incluir intervalos de:\">\n          <IntervalRangePicker\n            selected={intervalRange}\n            onSelectRange={intervalRange => setConfig({ intervalRange })}\n          />\n        </ConfigSection>\n        <ConfigSection title=\"Cantidad de intervalos:\">\n          <Picker\n            value={drillLength}\n            options={{ '5': 5, '10': 10, '20': 20, '\\u221E': false }}\n            onSelect={drillLength => setConfig({ drillLength })}\n          />\n        </ConfigSection>\n        <ConfigSection title=\"Repetir intervalos similares:\">\n          <Picker\n            disabled={!allowsNoRepeat}\n            value={allowsNoRepeat ? repeatIntervals : true}\n            options={{ Si: true, No: false }}\n            onSelect={repeatIntervals => setConfig({ repeatIntervals })}\n          />\n        </ConfigSection>\n        <ConfigSection title=\"Intervalos a partir de:\">\n          <NotePicker\n            disabled={randomRootNote}\n            onChange={rootNote => setConfig({ rootNote })}\n            value={rootNote}\n          />\n          <SectionButton\n            color=\"dark\"\n            selected={randomRootNote}\n            onClick={() => setConfig({ randomRootNote: !randomRootNote })}\n          >\n            Aleatorio\n          </SectionButton>\n        </ConfigSection>\n        <ButtonBar>\n          <Button onClick={this.startTest}>Empezar</Button>\n        </ButtonBar>\n      </MainPanel>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state.intervals.config,\n  allowsNoRepeat: allowsNoRepeat(state.intervals),\n  preset: preset(state.intervals)\n})\n\nconst mapDispatchToProps = IntervalsActions\n\nexport default connect(mapStateToProps, mapDispatchToProps)(IntervalsConfig)\n","import React, { Component } from 'react'\nimport { PickerButton } from 'Components/Button'\nimport styled from 'styled-components'\nimport Icon from 'react-fontawesome'\nimport { ivlDirection, ivlQuality } from 'lib/music'\nimport { none, isNil, values } from 'ramda'\n\nconst IntervalPickerContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-content: space-between;\n  width: 100%;\n`\n\nconst IntervalsContainer = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  flex-grow: 3;\n`\n\nconst DirectionContainer = styled.div`\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  justify-content: center;\n`\n\nconst IntervalPickerButton = PickerButton.extend`\n  height: 60px;\n  font-weight: 600;\n  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);\n  font-size: 20px;\n  opacity: ${props => (props.disabled && !props.selected ? 0.5 : 1)};\n  @media (max-width: 400px) {\n    width: 60px;\n  }\n  @media (max-width: 320px) {\n    width: 50px;\n    height: 50px;\n  }\n`\n\nconst directions = [\n  { name: 'ascendente', dir: 1, icon: 'arrow-up' },\n  { name: 'descendente', dir: -1, icon: 'arrow-down' }\n]\n\nconst INITIAL_STATE = { quality: null, dir: null }\n\nexport default class IntervalPicker extends Component {\n  state = INITIAL_STATE\n\n  setQuality = quality => {\n    this.setState({ quality })\n  }\n\n  setDirection = dir => {\n    this.setState({ dir })\n  }\n\n  stateComplete = () => none(isNil, values(this.state))\n\n  componentWillReceiveProps(props) {\n    if (this.props.answer && !props.answer) this.setState(INITIAL_STATE)\n  }\n\n  componentDidUpdate() {\n    const { answer, onIntervalSelected } = this.props\n    if (this.stateComplete() && !answer) {\n      const { dir, quality } = this.state\n      onIntervalSelected(`${dir === -1 ? '-' : ''}${quality}`)\n    }\n  }\n\n  colorFor = fn => value => {\n    const { interval, answer } = this.props\n    if (!answer) return 'dark'\n    if (fn(interval.name) === value) return 'right'\n    if (fn(answer) === value) return 'wrong'\n    return 'dark'\n  }\n\n  render() {\n    const { possibleIntervals, answer } = this.props\n    return (\n      <IntervalPickerContainer>\n        <IntervalsContainer>\n          {possibleIntervals.map(quality => (\n            <IntervalPickerButton\n              color={this.colorFor(ivlQuality)(quality)}\n              key={quality}\n              onClick={() => this.setQuality(quality)}\n              selected={quality === this.state.quality}\n              disabled={answer}\n            >\n              {quality}\n            </IntervalPickerButton>\n          ))}\n        </IntervalsContainer>\n        <DirectionContainer>\n          {directions.map(direction => (\n            <IntervalPickerButton\n              key={direction.name}\n              color={this.colorFor(ivlDirection)(direction.dir)}\n              selected={this.state.dir === direction.dir}\n              onClick={() => this.setDirection(direction.dir)}\n              disabled={answer}\n            >\n              <Icon name={direction.icon} />\n            </IntervalPickerButton>\n          ))}\n        </DirectionContainer>\n      </IntervalPickerContainer>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { toItalian } from 'lib/music'\nimport { Flow as VF } from 'vexflow'\nimport { note as noteProps } from '@tonaljs/tonal'\n\nconst staveNoteFor = note => {\n  const { pc, oct, acc } = noteProps(note)\n  const StaveNote = new VF.StaveNote({\n    clef: 'treble',\n    keys: [`${pc}/${oct}`],\n    duration: 'w'\n  }).addModifier(0, new VF.Annotation(toItalian(note)))\n\n  if (acc !== '') {\n    StaveNote.addAccidental(0, new VF.Accidental(acc))\n  }\n  return StaveNote\n}\n\nexport default class Notes extends Component {\n  drawNote = () => {\n    const context = this.renderer.getContext()\n\n    this.group && context.svg.removeChild(this.group)\n\n    this.group = context.openGroup()\n\n    const notes = this.props.notes.map(staveNoteFor)\n\n    VF.Formatter.FormatAndDraw(context, this.stave, notes)\n\n    context.closeGroup()\n  }\n\n  componentDidMount() {\n    // Create an SVG renderer and attach it to the DIV element named \"boo\".\n    this.renderer = new VF.Renderer(\n      this.refs.container,\n      VF.Renderer.Backends.SVG\n    )\n\n    this.renderer.resize(200, 200)\n\n    // Configure the rendering context.\n    const context = this.renderer.getContext()\n    context.setFont('Arial', 10, '').setBackgroundFillStyle('#eed')\n\n    this.stave = new VF.Stave(10, 44, 180)\n\n    // Add a clef and time signature.\n    this.stave.addClef('treble')\n\n    // Connect it to the rendering context and draw!\n    this.stave.setContext(context).draw()\n    this.drawNote()\n  }\n\n  componentDidUpdate() {\n    this.drawNote()\n  }\n\n  render = () => <div ref=\"container\" />\n}\n","export const imagePath = path => `${process.env.PUBLIC_URL}/images/${path}`\n","import React, { Component } from 'react'\nimport styled from 'styled-components'\nimport Notes from 'Components/Notes'\nimport Button from 'Components/Button'\nimport Icon from 'react-fontawesome'\nimport { imagePath } from 'lib/images'\n\nconst IntervalContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  width: calc(100% - 40px);\n  padding: 0;\n  padding-left: 40px;\n  margin: 0;\n  background-color: #f0f3f4;\n  background-image: url(${imagePath('ondas.svg')});\n  background-repeat: repeat-x;\n  background-position: center 177px;\n`\n\nconst ReplayButton = Button.extend`\n  font-size: 14px;\n  height: 30px;\n  max-width: 120px;\n  left: -30px;\n  position: relative;\n`\n\nexport default class Interval extends Component {\n  render() {\n    const { notes, replay } = this.props\n    return (\n      <IntervalContainer>\n        <Notes notes={notes} />\n        <ReplayButton color=\"light\" textColor=\"accent\" onClick={replay}>\n          <Icon name=\"volume-up\" /> &iexcl;De nuevo!\n        </ReplayButton>\n      </IntervalContainer>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport IntervalsActions, {\n  expandSelectedIntervals,\n  drillIsOver\n} from 'Redux/Intervals'\nimport MainPanel from 'Components/Panels'\nimport Button, { SecondaryButton, ButtonBar } from 'Components/Button'\nimport IntervalPicker from 'Components/IntervalPicker'\nimport Interval from 'Components/Interval'\nimport styled from 'styled-components'\n\nconst ControlsContainer = styled.div`\n  width: calc(100% - 40px);\n  padding: 0 20px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  @media (max-width: 400px) {\n    width: calc(100% - 20px);\n    padding: 0 10px;\n  }\n`\n\nclass IntervalsTest extends Component {\n  stop = () => {\n    this.props.history.replace('/intervals')\n  }\n  render = () => {\n    const {\n      interval,\n      answer,\n      possibleIntervals,\n      replay,\n      nextInterval,\n      drillIsOver,\n      sendAnswer\n    } = this.props\n    return interval ? (\n      <MainPanel>\n        <Interval\n          notes={\n            answer ? [interval.noteFrom, interval.noteTo] : [interval.noteFrom]\n          }\n          replay={replay}\n        />\n        <ControlsContainer>\n          <IntervalPicker\n            possibleIntervals={possibleIntervals}\n            onIntervalSelected={sendAnswer}\n            interval={interval}\n            answer={answer}\n          />\n          <ButtonBar>\n            <SecondaryButton onClick={this.stop}>Terminar</SecondaryButton>\n            {!drillIsOver && <Button onClick={nextInterval}>Siguiente</Button>}\n          </ButtonBar>\n        </ControlsContainer>\n      </MainPanel>\n    ) : (\n      <Redirect to=\"/intervals\" />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state.intervals,\n  possibleIntervals: expandSelectedIntervals(state.intervals),\n  drillIsOver: drillIsOver(state.intervals)\n})\n\nconst mapDispatchToProps = {\n  nextInterval: IntervalsActions.start,\n  sendAnswer: IntervalsActions.answer,\n  replay: IntervalsActions.replay\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(IntervalsTest)\n","import colors from './colors'\n\nexport default {\n  colors\n}\n","export default {\n  dark: '#212121',\n  light: 'white',\n  accent: '#3d5afe',\n  fade: '#78909c',\n  disabled: '#424242',\n  right: '#00c853',\n  wrong: '#ff1744',\n  average: 'gold'\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { progressStats } from 'Redux/Intervals'\nimport styled from 'styled-components'\nimport chroma from 'chroma-js'\nimport { intervalOptions } from 'lib/music'\nimport T from 'Theme'\n\nconst ProgressContainer = styled.div`\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n  width: 90%;\n  margin: auto;\n`\n\nconst ProgressSection = styled.section`\n  flex: 1 0 0;\n  width: 100%;\n  font-size: 20px;\n  h2 {\n    font-size: 20px;\n    width: 100%;\n    text-align: center;\n  }\n`\n\nconst OverallProgressSection = styled(ProgressSection)`\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  font-size: 50px;\n`\n\nconst StatsLabel = styled.p`\n  margin: 0;\n  padding: 0;\n`\n\nconst PercentLabel = ({ value }) => {\n  const colorScale = chroma.scale([\n    T.colors.wrong,\n    T.colors.average,\n    T.colors.right\n  ])\n  const StyledLabel = styled.div`\n    font-size: 100px;\n    color: ${colorScale(value)};\n  `\n  return <StyledLabel>{(value * 100).toFixed(0)}%</StyledLabel>\n}\n\nclass IntervalsProgress extends Component {\n  render = () => {\n    const { correct, total, byGroup } = this.props\n    const percentage = correct / total\n    const setsWithStats = intervalOptions.filter(setName =>\n      byGroup.hasOwnProperty(setName)\n    )\n    return total > 0 ? (\n      <ProgressContainer>\n        <OverallProgressSection>\n          <h2>Resultados generales</h2>\n          <PercentLabel value={percentage} />\n          <StatsLabel>\n            {correct}/{total}\n          </StatsLabel>\n        </OverallProgressSection>\n        <ProgressSection>\n          <h2>Por tipo de intervalo</h2>\n          {setsWithStats.map(intervalSet => (\n            <StatsLabel key={intervalSet}>\n              {intervalSet}:{byGroup[intervalSet].correct}/\n              {byGroup[intervalSet].total}\n            </StatsLabel>\n          ))}\n        </ProgressSection>\n      </ProgressContainer>\n    ) : (\n      <ProgressContainer>\n        <p>\n          En esta sección vas a poder ver el análisis de tu progreso cuando\n          arranques tu entrenamiento\n        </p>\n      </ProgressContainer>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...progressStats(state)\n})\n\nexport default connect(mapStateToProps)(IntervalsProgress)\n","import React, { Component } from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport Config from './Config'\nimport Test from './Test'\nimport IntervalsProgress from './Progress'\n\nexport default class Intervals extends Component {\n  render = () => (\n    <Switch>\n      <Route path=\"/intervals/test\" component={Test} />\n      <Route path=\"/intervals\" component={Config} />\n    </Switch>\n  )\n}\n\nexport class Info extends Component {\n  render = () => <IntervalsProgress />\n}\n","import React from 'react'\nimport { PickerButton } from 'Components/Button'\nimport styled from 'styled-components'\nimport { without } from 'ramda'\n\nconst ButtonPanel = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  width: 100%;\n  justify-content: flex-start;\n`\n\nconst RangePicker = props => {\n  const isSelected = value => props.selected.includes(value)\n\n  const clickHandler = value => () => {\n    props.onSelectRange(\n      isSelected(value)\n        ? without([value], props.selected)\n        : [...props.selected, value]\n    )\n  }\n\n  return (\n    <ButtonPanel>\n      {props.options.map(option => (\n        <PickerButton\n          color=\"dark\"\n          key={option}\n          onClick={clickHandler(option)}\n          selected={isSelected(option)}\n        >\n          {option}\n        </PickerButton>\n      ))}\n    </ButtonPanel>\n  )\n}\n\nexport default RangePicker\n","import React from 'react'\nimport styled from 'styled-components'\nimport { CheckableButton } from 'Components/Button'\n\nconst SectionContainer = styled.div`\n  width: calc(100% - 40px);\n  padding: 0 20px;\n  margin-bottom: 10px;\n  h2 {\n    font-size: 20px;\n  }\n`\nconst SectionControls = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`\n\nexport const SectionButton = CheckableButton.extend`\n  margin: 0 20px;\n  max-width: 160px;\n  height: 50px;\n  font-weight: ${props => (props.selected ? 600 : 300)};\n  @media (max-width: 720px) {\n    font-size: 15px;\n    max-width: 130px;\n    height: 40px;\n  }\n`\n\nconst ConfigSection = props => (\n  <SectionContainer>\n    <h2>{props.title}</h2>\n    <SectionControls>{props.children}</SectionControls>\n  </SectionContainer>\n)\n\nexport default ConfigSection\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport ProgressionsActions from 'Redux/Progressions'\nimport Button, { ButtonBar } from 'Components/Button'\nimport MainPanel from 'Components/Panels'\nimport RangePicker from 'Components/RangePicker'\nimport NotePicker from 'Components/NotePicker'\nimport ConfigSection, { SectionButton } from 'Components/ConfigSection'\nimport { progressionOptions } from 'lib/music'\n\nconst ProgressionsConfig = props => (\n  <MainPanel>\n    <ConfigSection title=\"Incluir grupos de enlaces:\">\n      <RangePicker\n        selected={props.includedSets}\n        options={progressionOptions}\n        onSelectRange={includedSets => props.setProgConfig({ includedSets })}\n      />\n    </ConfigSection>\n    <ConfigSection title=\"Incluir tipos de Acordes:\">\n      <RangePicker\n        selected={props.includedTypes}\n        options={['Tri', '7ma']}\n        onSelectRange={includedTypes => props.setProgConfig({ includedTypes })}\n      />\n    </ConfigSection>\n    <ConfigSection title=\"Tonalidad:\">\n      <NotePicker\n        disabled={props.randomRootNote}\n        onChange={rootNote => props.setProgConfig({ rootNote })}\n        value={props.rootNote}\n      />\n      <SectionButton\n        color=\"dark\"\n        selected={props.randomRootNote}\n        onClick={() =>\n          props.setProgConfig({ randomRootNote: !props.randomRootNote })\n        }\n      >\n        Aleatorio\n      </SectionButton>\n    </ConfigSection>\n    <ButtonBar>\n      <Button\n        onClick={() => {\n          props.progStart()\n          props.history.push(`${props.match.url}/test`)\n        }}\n      >\n        Empezar\n      </Button>\n    </ButtonBar>\n  </MainPanel>\n)\n\nconst mapStateToProps = state => state.progressions.config\n\nconst mapDispatchToProps = ProgressionsActions\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProgressionsConfig)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\n\nimport ProgressionsActions from 'Redux/Progressions'\nimport Button, { SecondaryButton, ButtonBar } from 'Components/Button'\nimport MainPanel from 'Components/Panels'\nimport { Redirect } from 'react-router-dom'\nimport { toItalian } from 'lib/music'\nimport Icon from 'react-fontawesome'\n\nconst ControlsContainer = styled.div`\n  width: calc(100% - 40px);\n  padding: 0 20px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  @media (max-width: 400px) {\n    width: calc(100% - 20px);\n    padding: 0 10px;\n  }\n`\n\nconst Answer = styled.h1`\n  height: 50px;\n  font-size: 40px;\n  padding: 10px;\n`\n\nconst ProgressionsTest = props =>\n  props.progression ? (\n    <MainPanel>\n      <div>\n        <h1>Tonalidad: {toItalian(props.progression.rootNote)}</h1>\n        <ButtonBar>\n          <Button onClick={props.replay}>\n            <Icon name=\"volume-up\" /> De nuevo!\n          </Button>\n        </ButtonBar>\n      </div>\n      <ButtonBar>\n        <Button onClick={props.requestAnswer}>Mostrar Respuesta</Button>\n      </ButtonBar>\n      <Answer>{props.showAnswer && props.progression.chords}</Answer>\n      <ControlsContainer>\n        <ButtonBar>\n          <SecondaryButton onClick={props.stop}>Terminar</SecondaryButton>\n          <Button onClick={props.nextProgression}>Siguiente</Button>\n        </ButtonBar>\n      </ControlsContainer>\n    </MainPanel>\n  ) : (\n    <Redirect to=\"/progressions\" />\n  )\n\nconst mapStateToProps = state => state.progressions\n\nconst mapDispatchToProps = {\n  nextProgression: ProgressionsActions.progStart,\n  requestAnswer: ProgressionsActions.showProgAnswer,\n  replay: ProgressionsActions.progReplay,\n  stop: ProgressionsActions.progStop\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProgressionsTest)\n","import About from './About'\nimport Intervals, { Info as IntervalsInfo } from './Intervals'\nimport Progressions from './Progressions'\n\nexport default [\n  {\n    name: 'intervals',\n    route: '/intervals',\n    component: Intervals,\n    props: {\n      title: 'Intervalos',\n      infoSection: IntervalsInfo,\n      infoIcon: 'area-chart'\n    }\n  },\n  {\n    name: 'progressions',\n    route: '/progressions',\n    component: Progressions,\n    props: {\n      title: 'Enlaces'\n    }\n  },\n  {\n    name: 'about',\n    route: '/about',\n    component: About,\n    props: {\n      title: 'Acerca de EMPATrainer'\n    }\n  }\n]\n","import React from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport Config from './Config'\nimport Test from './Test'\n\nconst Progressions = () => (\n  <Switch>\n    <Route path=\"/progressions/test\" component={Test} />\n    <Route path=\"/progressions\" component={Config} />\n  </Switch>\n)\n\nexport default Progressions\n","import React, { Component } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport styled from 'styled-components'\nimport Pages from 'Pages'\nimport { imagePath } from 'lib/images'\n\nconst NavContainer = styled.nav`\n  display: flex;\n  flex-direction: column;\n`\n\nconst NavHeader = styled.header`\n  height: 60px;\n  font-size: 24px;\n  padding-left: 10px;\n  border-bottom: 1px solid black;\n`\n\nconst Logo = styled.img`\n  height: 26px;\n  padding: 17px 5px;\n`\n\nconst NavItem = styled(NavLink)`\n  height: 40px;\n  line-height: 40px;\n  text-decoration: none;\n  color: ${props => props.theme.colors.dark};\n  font-size: 16px;\n  font-weight: 600;\n  padding-left: 10px;\n  box-shadow: inset 0 -1px 0 0 #eceff1;\n  &.selected {\n    color: white;\n    background-color: ${props => props.theme.colors.accent};\n  }\n`\n\nexport default class Menu extends Component {\n  render = () => (\n    <NavContainer>\n      <NavHeader>\n        <Logo src={imagePath('logo.svg')} alt=\"\" />\n      </NavHeader>\n      {Pages.map(page => (\n        <NavItem key={page.name} to={page.route} activeClassName=\"selected\">\n          {page.props.title}\n        </NavItem>\n      ))}\n    </NavContainer>\n  )\n}\n","import React, { Component } from 'react'\nimport styled from 'styled-components'\nimport Icon from 'react-fontawesome'\n\nconst NavBarContainer = styled.header`\n  display: flex;\n  left: 320px;\n  right: 320px;\n  top: 0;\n  position: fixed;\n  height: 60px;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  background-color: ${props => props.theme.colors.light};\n  border-bottom: 1px solid black;\n  border-left: 1px solid black;\n  border-right: 1px solid black;\n  @media (max-width: 720px) {\n    right: 0;\n    border-right: 0;\n  }\n  @media (max-width: 1040px) {\n    left: 0;\n    border-left: 0;\n  }\n`\n\nconst TitleContainer = styled.h1`\n  flex-grow: 1;\n  font-size: 25px;\n  font-weight: bold;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  span {\n    padding: 0 10px;\n  }\n`\n\nconst Filler = styled.span`\n  height: 60px;\n  width: 60px;\n`\n\nconst MenuIcon = styled(Icon)`\n  font-size: 30px;\n  height: 60px;\n  width: 60px;\n  line-height: 60px;\n  text-align: center;\n  visibility: hidden;\n`\n\nconst LeftIcon = MenuIcon.extend`\n  @media (max-width: 1040px) {\n    visibility: visible;\n  }\n`\nconst RightIcon = MenuIcon.extend`\n  @media (max-width: 720px) {\n    visibility: visible;\n  }\n`\n\nexport default class NavBar extends Component {\n  render() {\n    const { onLeftIcon, onRightIcon, rightIcon, title } = this.props\n    return (\n      <NavBarContainer>\n        <LeftIcon className=\"left\" name=\"bars\" onClick={onLeftIcon} />\n        <TitleContainer>\n          <span>{title}</span>\n        </TitleContainer>\n        {rightIcon ? (\n          <RightIcon name={rightIcon} onClick={onRightIcon} />\n        ) : (\n          <Filler />\n        )}\n      </NavBarContainer>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport PanelsActions from 'Redux/Panels'\nimport NavMenu from './NavMenu'\nimport NavBar from './NavBar'\nimport { withRouter } from 'react-router-dom'\nimport styled from 'styled-components'\nimport { imagePath } from 'lib/images'\n\nconst Filler = styled.div`\n  flex-grow: 1;\n  background-image: url(${imagePath('ondas-dark.svg')});\n  background-repeat: repeat-x;\n  background-position: center bottom;\n  opacity: 0.1;\n  margin-bottom: 20px;\n`\n\nclass MainLayout extends Component {\n  static defaultProps = {\n    infoSection: () => null,\n    infoIcon: null\n  }\n  render = () => (\n    <div id=\"mainContainer\" role=\"main\">\n      <aside\n        id=\"leftPanel\"\n        onClick={this.props.clear}\n        className={this.props.left}\n      >\n        <NavMenu />\n        <Filler />\n      </aside>\n      <main id=\"mainPanel\">\n        <NavBar\n          title={this.props.title}\n          onLeftIcon={this.props.openLeft}\n          rightIcon={this.props.infoIcon}\n          onRightIcon={this.props.infoIcon ? this.props.openRight : false}\n        />\n        <section id=\"container\">{<this.props.mainContent />}</section>\n      </main>\n      <aside\n        id=\"rightPanel\"\n        onClick={this.props.clear}\n        className={this.props.right}\n      >\n        <this.props.infoSection />\n      </aside>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => state.panels\n\nexport default withRouter(connect(mapStateToProps, PanelsActions)(MainLayout))\n","import React, { Component } from 'react'\nimport Pages from 'Pages'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom'\nimport MainLayout from 'Layouts/MainLayout'\n\nconst renderPage = page => () => {\n  const { component, props } = page\n  return <MainLayout mainContent={component} {...props} />\n}\n\nexport default class App extends Component {\n  render = () => {\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <Switch>\n          {Pages.map(page => (\n            <Route\n              key={page.name}\n              path={page.route}\n              render={renderPage(page)}\n            />\n          ))}\n          <Route\n            key=\"root\"\n            exact\n            path=\"/\"\n            render={() => <Redirect to={Pages[0].route} />}\n          />\n        </Switch>\n      </Router>\n    )\n  }\n}\n","import Reactotron from 'reactotron-react-js'\nimport { reactotronRedux } from 'reactotron-redux'\n\nReactotron.configure()\n  .use(reactotronRedux())\n  .connect()\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport createStore from './Redux'\nimport registerServiceWorker from './registerServiceWorker'\nimport App from './App'\nimport './index.css'\nimport 'Config/Reactotron'\n\nimport theme from 'Theme'\nimport { ThemeProvider } from 'styled-components'\n\nconst store = createStore()\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </ThemeProvider>,\n  document.getElementById('root')\n)\n\nregisterServiceWorker()\n"],"sourceRoot":""}